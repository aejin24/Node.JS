<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <h1>
      <a href="/topic" style="text-decoration: none; color: #000;">Server Side JavaScript</a>
    </h1>

    <ul></ul>

    <h2 id="title"></h2>
    <p id="description"></p>
    
    <br>

    <a href="/topic/new">NEW</a>

    <script type="application/javascript">
      const ulElement = document.querySelector("ul");
      const titleElement = document.getElementById("title");
      const descriptionElement = document.getElementById("description");

      let topics = "<%= topics %>";
      topics = topics.split(",");

      let output = "";
      topics.map(topic => {
        output += `<li><a href="/topic/${topic}">${topic}</a></li>`;
      });

      ulElement.innerHTML = output;

      let title = "<%= title %>";
      let description = "<%= description %>";
      titleElement.innerHTML = title;
      descriptionElement.innerHTML = description;
    </script>
  </body>
</html>